@mixin grouped-icon {
  @include icon-font($fa-var-plus);
  position: absolute;
  margin: -8px 0 0 -5px;
}

$comment-id-and-points-width: 7%;
$green-comment-width: 27.5%;
$red-comment-width: 100% - $comment-id-and-points-width - $green-comment-width;

$white-section-padding: 2em 1em 1em;

#assessment {
  .with-circles {
    @include medium-screen {
      font-size: 14px;
    }
    @include large-screen {
      font-size: 14px;
    }
  }

  #order-details {
    background-color: white;
    padding: 1.5em $spacer-unit-size;
  }

  .tab-pane {
    > section {
      background-color: white;
      padding: $white-section-padding;
      margin-bottom: 3em;
    }

    h3 {
      margin-top: 0;
    }

    ul {
      margin-bottom: 0;
    }
  }

  $comment-paragraph-padding-top: 0.2em;

  .comment-paragraph {
    margin-bottom: 0;
    padding: $comment-paragraph-padding-top 0.4em;
    background-color: $gradient-light-grey;
  }

  .list-comment {
    margin-bottom: 1em;

    > .green,
    > .red {
      cursor: pointer;
      position: relative;

      > .comment-paragraph {
        height: 100%;

        @include transition(background-color $default-animation-duration/2 ease);
      }
    }

    > .red {
      position: relative;

      > .comment-paragraph {
        padding-bottom: 1.2em;
      }
    }

    > .green > .selected {
      background-color: $green-comment-bg;
    }
    > .red > .selected {
      background-color: $red-comment-bg;
    }

    @include medium-screen {
      display: flex;

      > .id-and-points {
        width: $comment-id-and-points-width;
      }
      > .green {
        width: $green-comment-width;
      }
      > .red {
        width: $red-comment-width;
      }
    }

    .fa {
      position: absolute;
      bottom: 0;
      z-index: 1;
    }

    .fa-plus-circle {
      right: 2em;
    }

    .fa-undo {
      right: 0;
    }
  }

  .grouped {
    margin-top: -0.8em;

    > .green::before {
      @include grouped-icon;
    }

    @include medium-screen {
      > .green::before {
        content: "";
      }
      > .red::before {
        @include grouped-icon;
      }
    }
  }

  .id-and-points > p {
    text-align: center;

    &:first-child {
      padding-top: $comment-paragraph-padding-top;
    }
  }

  .overall-comment {
    height: 6em;
  }

  .report-category {
    background-color: white;
    padding: $white-section-padding;
    margin: 0 -1em $content-element-margin-bottom -1em;
  }

  .report-comment {
    position: relative;
    margin-bottom: $content-element-margin-bottom;

    > .comment-paragraph {
      padding-right: 2.5em;
      min-height: 8em;  // To have enough space for all buttons
    }

    > button,
    > .report-comment-checkbox {
      position: absolute;
      right: 0;
      top: 0;
    }

    > .fa-bars {
      cursor: move;
    }

    > .report-comment-checkbox {
      top: 2em;
    }

    > .fa-undo {
      top: 4em;
    }

    > .fa-trash {
      top: 6em;
    }
  }

  .report-comment-checkbox {
    display: inline-block;
    padding: 0.3em 0.4em 0;
    cursor: pointer;

    &::after {
      @include icon-font($fa-var-check-square-o);
      font-size: 1.2em;
      color: $well-border-color;
    }

    &.checked::after {
      color: $primary-btn-color;
    }
  }

  .well-done-comment-composer {
    margin-bottom: $content-element-margin-bottom;

    > textarea {
      height: 4em;
    }
  }

  .comment-composer {
    display: none;

    > textarea {
      height: 2em;
    }
  }
}

.no-flexbox {
  #assessment .list-comment {
    @include medium-screen {
      display: block;
      @include clearfix;

      > div {
        float: left;
      }
    }
  }
}
