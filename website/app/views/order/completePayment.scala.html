@(i18nMessages: Map[String, String], account: Option[Account], products: List[CruitedProduct], reductions: List[Reduction], order: models.frontend.FrontendOrder)(implicit messages: Messages)

@main("Cruited - " + messages("order.payment.title"), "order-step-payment") {
<!--
    Header
-->
@header(account)

} {
/*
    Javascript
*/

var PAYMILL_PUBLIC_KEY = "8a8394c43fa91e5f013fb3adc1a51e29";

document.addEventListener("DOMContentLoaded", function() {
    CR.Controllers.CompletePayment(
        @Html(play.api.libs.json.Json.toJson(i18nMessages).toString()),
        @Html(play.api.libs.json.Json.toJson(products).toString()),
        @Html(play.api.libs.json.Json.toJson(reductions).toString()),
        @Html(play.api.libs.json.Json.toJson(order).toString())
    );
});
}
